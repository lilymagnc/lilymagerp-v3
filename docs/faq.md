# 릴리맥 ERP v3 문제 해결 FAQ

## 1. 목적

본 FAQ는 릴리맥 ERP v3 시스템 사용 중 발생할 수 있는 일반적인 문제에 대한 답변과 해결책을 제공하여, 사용자들이 스스로 문제를 해결하고 시스템을 원활하게 이용할 수 있도록 돕습니다.

## 2. 로그인 및 계정 관련 문제

### Q1: 비밀번호를 잊어버렸습니다. 어떻게 해야 하나요?
**A1**: 로그인 페이지에서 "비밀번호 찾기" 링크를 클릭하여 이메일 주소를 입력하시면, 비밀번호 재설정 링크가 발송됩니다. 이메일을 확인하여 비밀번호를 재설정해 주세요.

### Q2: 계정이 잠겼다고 나옵니다.
**A2**: 여러 번 로그인 시도에 실패하면 보안을 위해 계정이 일시적으로 잠길 수 있습니다. 잠시 후 다시 시도하거나, 본사 관리자에게 문의하여 계정 잠금을 해제해 주세요.

### Q3: 로그인 후 대시보드가 보이지 않고 로그인 페이지로 돌아갑니다.
**A3**: 사용자 인증 정보에 문제가 있거나, 네트워크 연결이 불안정할 수 있습니다. 인터넷 연결을 확인하고, 브라우저 캐시 및 쿠키를 삭제한 후 다시 로그인해 보세요. 문제가 지속되면 본사 관리자에게 문의해 주세요.

## 3. 데이터 조회 및 입력 관련 문제

### Q1: 자재 요청 페이지에서 자재 목록이 보이지 않습니다.
**A1**: 
*   **지점 사용자**: 자신의 지점에 등록된 자재만 표시됩니다. 해당 지점에 자재가 등록되어 있는지 확인해 주세요.
*   **본사 관리자**: 페이지 상단의 지점 선택 드롭다운에서 지점을 선택했는지 확인해 주세요. 선택된 지점에 해당하는 자재만 표시됩니다.
*   네트워크 연결을 확인하고 페이지를 새로고침해 보세요.

### Q2: 구매 관리 페이지에서 구매 배치가 보이지 않습니다.
**A2**: 
*   선택된 탭(계획중, 구매중, 완료)에 해당하는 배치가 없는 경우일 수 있습니다. 다른 탭을 확인해 보세요.
*   네트워크 연결을 확인하고 페이지를 새로고침해 보세요.

### Q3: 데이터를 입력했는데 저장이 되지 않습니다.
**A3**: 
*   필수 입력 항목을 모두 채웠는지 확인해 주세요. (빨간색 별표(*)로 표시된 항목)
*   입력한 값의 형식이 올바른지 확인해 주세요. (예: 숫자를 입력해야 하는 곳에 문자를 입력하지 않았는지)
*   네트워크 연결이 안정적인지 확인해 주세요. 일시적인 네트워크 문제일 수 있습니다.
*   콘솔(F12)에 오류 메시지가 표시되는지 확인하고, 메시지를 본사 관리자에게 전달해 주세요.

## 4. 권한 관련 문제

### Q1: 특정 메뉴나 기능에 접근할 수 없습니다.
**A1**: 시스템의 메뉴 및 기능은 사용자 역할(지점, 본사 관리자, 구매 담당자 등)에 따라 접근 권한이 다릅니다. 본인의 역할에 해당하지 않는 기능일 수 있습니다. 필요한 기능인데 접근할 수 없다면 본사 관리자에게 문의하여 권한을 확인해 주세요.

## 5. 성능 관련 문제

### Q1: 페이지 로딩이 너무 느립니다.
**A1**: 
*   인터넷 연결 상태를 확인해 주세요.
*   브라우저 캐시를 삭제해 보세요.
*   동시에 많은 데이터를 처리하는 경우 일시적으로 느려질 수 있습니다. 잠시 후 다시 시도해 보세요.
*   문제가 지속되면 본사 관리자에게 문의해 주세요.

## 6. 알림 관련 문제

### Q1: 알림이 오지 않습니다.
**A1**: 
*   시스템 내 알림 설정이 비활성화되어 있지 않은지 확인해 주세요.
*   네트워크 연결을 확인해 주세요.
*   알림은 특정 역할이나 지점에만 발송될 수 있습니다. 본인에게 해당되는 알림인지 확인해 주세요.

## 7. Firebase 인덱스 관련 문제

### Q1: "The query requires an index" 오류가 발생합니다.
**A1**: 
*   이 오류는 Firebase Firestore에서 복합 쿼리를 실행할 때 필요한 인덱스가 없어서 발생합니다.
*   오류 메시지에 포함된 URL을 클릭하여 필요한 인덱스를 자동으로 생성할 수 있습니다.
*   또는 본사 관리자에게 문의하여 인덱스를 생성해 주세요.
*   인덱스 생성에는 몇 분 정도 소요될 수 있습니다.

### Q2: 체크리스트 페이지에서 데이터를 불러올 수 없습니다.
**A2**: 
*   체크리스트 컬렉션에 대한 복합 인덱스가 필요할 수 있습니다.
*   브라우저 개발자 도구(F12)의 콘솔에서 "The query requires an index" 오류 메시지를 확인해 주세요.
*   오류 메시지에 포함된 URL을 클릭하여 인덱스를 생성하거나, 본사 관리자에게 문의해 주세요.
*   **임시 해결책**: 페이지를 새로고침하거나 몇 분 후에 다시 시도해 주세요. 인덱스가 빌드 중일 수 있습니다.

### Q3: "That index is currently building and cannot be used yet" 오류가 발생합니다.
**A3**: 
*   이 오류는 Firebase 인덱스가 아직 빌드 중일 때 발생합니다.
*   인덱스 빌드는 보통 몇 분에서 최대 10분 정도 소요됩니다.
*   잠시 기다린 후 페이지를 새로고침해 주세요.
*   오류 메시지에 포함된 URL을 클릭하여 인덱스 빌드 상태를 확인할 수 있습니다.

### Q4: 체크리스트에서 항목을 체크할 때 오류가 발생하고 주문접수 페이지로 이동합니다.
**A4**: 
*   이 문제는 Firebase의 `serverTimestamp()` 함수가 배열 내부에서 지원되지 않아서 발생하는 오류입니다.
*   체크리스트 항목을 체크할 때 타임스탬프 저장 방식이 수정되어 해결되었습니다.
*   지점 사용자가 체크리스트 페이지에 접근할 수 있도록 권한이 추가되었습니다.
*   **해결됨**: 시스템이 업데이트되어 더 이상 이 문제가 발생하지 않습니다.
*   만약 문제가 지속된다면 브라우저 캐시를 삭제하고 페이지를 새로고침해 주세요.

### Q5: 체크리스트는 어떤 권한으로 접근할 수 있나요?
**A5**: 
*   **본사 관리자**: 모든 매장의 체크리스트를 조회, 생성, 수정할 수 있습니다. 지점 필터를 사용하여 특정 매장의 데이터만 볼 수도 있습니다.
*   **가맹점 관리자**: 자신이 소속된 매장의 체크리스트만 조회, 생성, 수정할 수 있습니다.
*   **지점 소속 직원**: 자신이 소속된 매장의 체크리스트만 조회, 생성, 수정할 수 있습니다.
*   체크리스트는 매장별로 완전히 분리되어 관리되므로, 다른 매장의 데이터는 접근할 수 없습니다.

### Q6: 본사 관리자가 특정 매장의 체크리스트만 보고 싶습니다.
**A6**: 
*   체크리스트 관리 페이지 상단에 있는 "지점 필터" 섹션에서 원하는 매장을 선택하세요.
*   "모든 지점"을 선택하면 전체 매장의 체크리스트를 볼 수 있습니다.
*   특정 매장을 선택하면 해당 매장의 체크리스트만 표시됩니다.
*   필터를 초기화하려면 "필터 초기화" 버튼을 클릭하세요.

### Q7: 체크리스트 페이지가 깜빡거립니다.
**A7**: 
*   이 문제는 React 컴포넌트의 불필요한 리렌더링으로 인해 발생할 수 있습니다.
*   **해결됨**: 시스템이 최적화되어 깜빡임 문제가 해결되었습니다.
*   만약 문제가 지속된다면 브라우저 캐시를 삭제하고 페이지를 새로고침해 주세요.
*   네트워크 연결이 불안정한 경우에도 깜빡임이 발생할 수 있으니 인터넷 연결을 확인해 주세요.

### Q8: 체크리스트 메뉴 클릭 시 "A <Select.Item /> must have a value prop that is not an empty string" 오류가 발생합니다.
**A8**: 
*   이 오류는 Select 컴포넌트에서 빈 문자열을 value로 사용할 때 발생하는 문제입니다.
*   **해결됨**: 시스템이 업데이트되어 빈 문자열 대신 "all" 값을 사용하도록 수정되었습니다.
*   만약 문제가 지속된다면 브라우저 캐시를 삭제하고 페이지를 새로고침해 주세요.
*   이 오류는 로컬 개발 환경과 배포 환경 모두에서 발생할 수 있으므로 수정이 필요했습니다.

### Q9: 체크리스트 항목을 매장별로 수정하고 싶습니다.
**A9**: 
*   체크리스트 관리 페이지의 "빠른 액션" 섹션에서 "템플릿 관리" 버튼을 클릭하세요.
*   템플릿 관리 페이지에서는 일일/주간/월간 체크리스트 항목을 추가, 수정, 삭제할 수 있습니다.
*   각 항목에 대해 제목, 설명, 필수 여부를 설정할 수 있습니다.
*   변경사항은 "템플릿 저장" 버튼을 클릭하여 저장하세요.
*   매장별로 다른 체크리스트 항목을 설정할 수 있어 업무 특성에 맞게 커스터마이징 가능합니다.

### Q10: 체크리스트에서 날씨 정보는 언제 입력하나요?
**A10**: 
*   **일일 체크리스트**: 날씨 정보를 입력할 수 있습니다. 일일 업무에 날씨가 영향을 미칠 수 있기 때문입니다.
*   **주간/월간 체크리스트**: 날씨 정보는 입력하지 않습니다. 주간/월간 단위에서는 날씨보다는 업무 계획과 성과에 집중합니다.
*   모든 체크리스트에서 특별 이벤트와 메모는 입력 가능합니다.

### Q11: 체크리스트 히스토리에서 데이터가 보이지 않습니다.
**A11**: 
*   **로딩 중**: 페이지가 처음 로드될 때 스켈레톤 UI가 표시되는 것은 정상입니다. 데이터를 불러오는 동안 잠시 기다려 주세요.
*   **데이터 없음**: 아직 작성된 체크리스트가 없는 경우 "아직 작성된 체크리스트가 없습니다" 메시지가 표시됩니다. 첫 체크리스트를 작성해 보세요.
*   **필터링**: 필터 조건에 맞는 체크리스트가 없는 경우 "필터 조건에 맞는 체크리스트가 없습니다" 메시지가 표시됩니다. 필터를 초기화해 보세요.
*   **권한 문제**: 본사 관리자가 아닌 경우 자신의 지점 체크리스트만 표시됩니다.

### Q12: 체크리스트 히스토리에서 어떤 기능을 사용할 수 있나요?
**A12**: 
*   **필터링**: 날짜, 상태(완료/진행중/대기), 근무자별로 체크리스트를 필터링할 수 있습니다.
*   **검색**: 담당자명, 근무자명, 메모 내용으로 검색할 수 있습니다.
*   **상세 보기**: 각 체크리스트의 "보기" 버튼을 클릭하여 상세 내용을 확인할 수 있습니다.
*   **다운로드**: 체크리스트를 엑셀 파일로 다운로드할 수 있습니다 (향후 기능).
*   **완료율 확인**: 각 체크리스트의 진행 상황을 퍼센트로 확인할 수 있습니다.

## 8. 기타

### Q1: 시스템 사용 중 알 수 없는 오류가 발생했습니다.
**A1**: 
*   오류 메시지가 있다면 스크린샷을 찍어두세요.
*   어떤 작업을 하던 중 오류가 발생했는지 상세하게 기록해 주세요.
*   브라우저 개발자 도구(F12)의 콘솔 탭에 오류 메시지가 표시되는지 확인하고, 해당 메시지를 복사해 주세요.
*   위 정보를 가지고 본사 관리자에게 문의해 주세요.

## 9. 문의처

위 FAQ로 해결되지 않는 문제나 추가적인 문의사항이 있다면, 다음 연락처로 문의해 주세요.

*   **본사 관리자**: [본사 관리자 연락처 또는 이메일 주소]
*   **IT 지원팀**: [IT 지원팀 연락처 또는 이메일 주소]
